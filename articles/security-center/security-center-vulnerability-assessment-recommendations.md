<properties
   pageTitle="Vulnerability assessment in Azure Security Center | Microsoft Azure"
   description="This document addresses recommendations in Azure Security Center that help you protect your virtual machines by installing a vulnerability assessment solution."
   services="security-center"
   documentationCenter="na"
   authors="YuriDio"
   manager="swadhwa"
   editor=""/>

<tags
   ms.service="security-center"
   ms.devlang="na"
   ms.topic="hero-article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="09/27/2016"
   ms.author="yurid"/>

# Vulnerability assessment in Azure Security Center
This document addresses vulnerability assessment recommendations that applicable to Virtual Machines running in Azure.

## What is Vulnerability Assessment?

The vulnerability assessment in Azure Security Center is part of the Virtual Machine (VM) recommendations. If Security Center does not find a vulnerability assessment solution installed on your VM, it will recommend you install one. Once deployed, the partner agent will start reporting vulnerability data to the partner’s management platform which in turn, provides vulnerability and health monitoring data back to Security Center. Users can quickly identify vulnerable VMs from Security Center dashboard and can get more reports and information by switching to the partner management console directly from Security Center.

> [AZURE.NOTE] This document introduces the service by using an example deployment. This is not a step-by-step guide.

## Public preview limitations

The following limitations apply to the current vulnerability assessment public preview:

- The only partner vulnerability assessment solution available is from [Qualys](https://www.qualys.com/lp/azure). More will be added in the future.
- You can install the vulnerability assessment solution in multiple VMs as long as they belong to the same subscription.
- Only Windows VMs are supported, Linux VMs will be added for General Availability (GA).


## Implement virtual machine recommendation

When Security Center identifies one or more supported VMs that are missing a vulnerability assessment solution, it will trigger a VM recommendation. The steps that follow show you how to access and apply this recommendation for multiple VMs that belong to the same subscription:

1. In the **Resource security health** tile, click **Virtual Machines**
2. In the **Virtual machines** blade, select **Vulnerability assessment not installed** as shown in the following screen:

	![Vulnerability assessment](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig1.png)

3. In the **Add a vulnerability assessment solution - PREVIEW** blade, select the VMs that you want to install the vulnerability assessment solution as shown in the following screen:

	![Add va solution](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig2.png)

4. In the **Add a vulnerability assessment solution - PREVIEW** blade, click **Install on 2 VMs** (the name may vary according to the number of VMs that you selected) option and the **Add Vulnerability Assessment** blade appears as shown in the following screen:

	![Add va solution](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig3.png)

5. In this blade you can choose to create a new vulnerability assessment, which allows you to select a partner solution from **Azure Marketplace** or you can select an existing partner solution under use existing solution, in this case **Qualys**.

## Create a new vulnerability assessment solution

If you have multiple subscriptions, you can create one vulnerability assessment solution for each subscription. The main steps are the same as enumerated in the previous section, the only different is that in step 4 you will click in **Create New** option. After selecting this option use the following steps to continue.

> [AZURE.NOTE] The following example uses Qualys. To deploy a Qualys cloud agent from Security Center you need a license code and public key from Qualys. See the [Qualys documentation](https://community.qualys.com/docs/DOC-5823-deploying-qualys-cloud-agents-from-microsoft-azure-security-center) on how to retrieve the license code and public key.

1. In the **Create a new Vulnerability Assessment** blade, click the partner’s name, in this case **Qualys**.
2. The partner’s blade will open. The fields shown in this blade may change according to the partner, for this example we will use **Qualys**:

	![Create a new va solution](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig7.png)

3. In the **Name** field, type the name for this solution. You can use a name that correlates with the resource group or subscription that you are trying to bind to it.
4. In the **Subscription** field, select the subscription that you want to use for this solution.
5. In the **Resource group** field, select an existing resource group or create a new one.
6. In the **Location** field, select where this solution will be geographically located.
7. In the **License code** field (this is specific for Qualys), type the license number provided by the partner.
8. In the **Public key** field (this is specific for Qualys), type the public key information provided by the partner and click **OK**.

## Review recommendation

Once the vulnerability assessment solution is installed on the target VM, it will scan the VM to detect and identify system and application vulnerabilities.

> [AZURE.NOTE] It may take a couple of hours for the first scan to complete and afterwards it is an hourly process.

These issues will be surfaced under the **Virtual Machines Recommendations** options. The following example shows how the recommendation appears under the **Recommendations** blade:

![Recommendations](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig4.png)

In this example, the selected recommendation shows that the detection was performed by Qualys. If you click on this recommendation, a new blade with a list of vulnerabilities will appear as shown in the following screen:

![Recommendations](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig5.png)

This list shows all vulnerability in severity order and the number of virtual machines affected by this vulnerability. For this example, the vulnerability Enable DCOM was selected and a new blade appears with the recommended steps to address this vulnerability:

![Recommendations](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig6.png)


## See also

In this document, you learned how to apply vulnerability assessment recommendations in Azure Security Center. To learn more about Azure Security Center, see the following:

- [Azure Security Center planning and operations guide](security-center-planning-and-operations-guide.md). Learn how to plan and understand the design considerations to adopt Azure Security Center.
- [Security health monitoring in Azure Security Center](security-center-monitoring.md). Learn how to monitor the health of your Azure resources.
- [Managing and responding to security alerts in Azure Security Center](security-center-managing-and-responding-alerts.md). Learn how to manage and respond to security alerts.
- [Monitoring partner solutions with Azure Security Center](security-center-partner-solutions.md). Learn how to monitor the health status of your partner solutions.
- [Azure Security Center FAQ](security-center-faq.md). Find frequently asked questions about using the service.
- [Azure Security Blog](http://blogs.msdn.com/b/azuresecurity/). Find blog posts about Azure security and compliance.
